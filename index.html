<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Black Russia - Locus Gold</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">

<!-- AdsGram SDK -->
<script src="https://adsgram.ai/sdk-v1.js"></script>

<style>
:root{--br-red:#ff3333;--bg:#0a0a0c}
body{background:var(--bg);color:#fff;font-family:'Montserrat',sans-serif;overflow:hidden;height:100vh;user-select:none}
.oswald{font-family:'Oswald',sans-serif;text-transform:uppercase;font-style:italic}
</style>
</head>

<body>
<div class="max-w-md mx-auto h-screen flex flex-col relative">

<header class="p-6 flex justify-between">
<div>
<p class="text-[10px] text-gray-500 font-bold uppercase">–ò–≥—Ä–æ–≤–æ–π –±–∞–ª–∞–Ω—Å</p>
<p id="bal-rub" class="text-2xl font-black oswald">0 ‚ÇΩ</p>
</div>
<div class="text-right">
<p class="text-[10px] text-blue-500 font-bold uppercase">–î–æ–Ω–∞—Ç —Å—á—ë—Ç</p>
<p id="bal-bc" class="text-2xl font-black text-blue-400 oswald">0 BC</p>
</div>
</header>

<main class="flex-1 overflow-y-auto px-6 pb-28">

<section id="tab-home">
<button onclick="Game.click()" class="w-full h-48 rounded-full bg-black border border-white/10">
–ù–∞–∂–∏–º–∞–π
</button>
</section>

<section id="tab-cases" class="hidden mt-6 space-y-4">
<div class="bg-white/5 p-4 rounded-xl flex justify-between">
<div>
<p class="font-bold text-xs">–ú–ê–ñ–û–†</p>
<p id="ad-stat" class="text-[10px] text-blue-400">ADS: 0 / 5</p>
</div>
<button onclick="Game.watchAd()" class="bg-blue-600 px-6 py-2 rounded-xl text-[10px] font-black">
–°–ú–û–¢–†–ï–¢–¨
</button>
</div>
</section>

</main>

<nav class="fixed bottom-0 left-0 right-0 bg-black flex justify-around py-4">
<div onclick="Game.tab('home')">üè†</div>
<div onclick="Game.tab('cases')">üì¶</div>
</nav>

</div>

<script>
/* ================= TELEGRAM INIT ================= */
let tg = null;
if (window.Telegram && Telegram.WebApp) {
    tg = Telegram.WebApp;
    tg.ready();
}

/* ================= ADSGRAM INIT ================= */
let adsController = null;

function initAdsgram() {
    if (!tg) {
        alert("–û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É —á–µ—Ä–µ–∑ Telegram");
        return false;
    }
    if (!window.Adsgram || !window.Adsgram.init) {
        alert("AdsGram SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω");
        return false;
    }
    if (!adsController) {
        adsController = Adsgram.init({
            blockId: "20963"
        });
    }
    return true;
}

/* ================= GAME LOGIC ================= */
const Game = {
    u:{m:0,bc:0,ads:0},

    updateUI(){
        bal-rub.innerText=this.u.m.toLocaleString()+" ‚ÇΩ";
        bal-bc.innerText=this.u.bc+" BC";
        ad-stat.innerText=`ADS: ${this.u.ads} / 5`;
    },

    click(){
        this.u.m+=250;
        this.updateUI();
    },

    tab(id){
        document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
        document.getElementById("tab-"+id).classList.remove("hidden");
    },

    async watchAd(){
        if (!initAdsgram()) return;

        try{
            const res = await adsController.show();
            if(res && res.done){
                this.u.ads++;
                if(this.u.ads>=5){
                    this.u.ads=0;
                    alert("–ö–ï–ô–° –û–¢–ö–†–´–¢");
                }
                this.updateUI();
            }else{
                alert("–í–∏–¥–µ–æ –Ω–µ –¥–æ—Å–º–æ—Ç—Ä–µ–Ω–æ");
            }
        }catch(e){
            console.error(e);
            alert("–†–µ–∫–ª–∞–º–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞");
        }
    }
};

Game.updateUI();
</script>
</body>
</html>