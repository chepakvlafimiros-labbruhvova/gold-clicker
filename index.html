<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Locus Gold - NextGen Edition</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">
    
    <script src="https://adsgram.ai/sdk-v1.js"></script>

    <style>
        :root {
            --accent: #ff3333;
            --accent-dark: #b30000;
            --bg: #050505;
            --card-bg: rgba(20, 20, 23, 0.7);
            --blue: #3b82f6;
        }

        body {
            background-color: var(--bg);
            color: #fff;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            height: 100vh;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .oswald { font-family: 'Oswald', sans-serif; text-transform: uppercase; font-style: italic; }

        /* NextGen UI Elements */
        .glass {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .neo-shadow { box-shadow: 0 0 25px rgba(255, 51, 51, 0.2); }
        .blue-shadow { box-shadow: 0 0 25px rgba(59, 130, 246, 0.2); }

        /* Animated Background */
        .bg-glow {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 50% -20%, rgba(255,51,51,0.15) 0%, transparent 50%);
            z-index: -1; pointer-events: none;
        }

        /* Clicker Engine */
        .click-circle {
            position: relative; width: 260px; height: 260px; margin: 20px auto;
            display: flex; align-items: center; justify-content: center;
        }

        .btn-main {
            width: 220px; height: 220px; border-radius: 50%;
            background: radial-gradient(circle, #1a1a1e 0%, #000 100%);
            border: 4px solid #1f1f22; position: relative;
            cursor: pointer; transition: transform 0.05s ease;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .btn-main:active { transform: scale(0.92); }
        .btn-main::after {
            content: "BR"; font-family: 'Oswald'; font-size: 85px; color: var(--accent);
            font-weight: 900; text-shadow: 0 0 30px rgba(255,51,51,0.4);
        }

        /* Roulette Animation */
        .r-track { display: flex; transition: transform 9s cubic-bezier(0.1, 0, 0.05, 1); will-change: transform; }
        .r-item {
            min-width: 160px; height: 160px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; background: rgba(255,255,255,0.02);
            border-right: 1px solid rgba(255,255,255,0.05);
        }

        /* Nav */
        .nav-link { opacity: 0.4; transition: all 0.3s; }
        .nav-link.active { opacity: 1; color: var(--accent); }
        .nav-indicator { height: 2px; width: 0; background: var(--accent); transition: width 0.3s; margin-top: 4px; }
        .active .nav-indicator { width: 12px; }

        /* Scroll customization */
        .hide-scroll::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

<div class="bg-glow"></div>

<div id="main-app" class="max-w-md mx-auto h-screen flex flex-col relative">
    
    <header class="p-6 pt-10 flex justify-between items-start z-50">
        <div class="space-y-1">
            <p class="text-[9px] font-bold text-gray-400 uppercase tracking-[0.2em]">–õ–∏—á–Ω—ã–π –±–∞–ª–∞–Ω—Å</p>
            <p id="ui-money" class="text-3xl font-black oswald leading-none">0 ‚ÇΩ</p>
        </div>
        <div class="text-right space-y-1">
            <p class="text-[9px] font-bold text-blue-400 uppercase tracking-[0.2em]">Black Coins</p>
            <p id="ui-bc" class="text-3xl font-black text-blue-400 oswald leading-none">0 BC</p>
        </div>
    </header>

    <main class="flex-1 overflow-y-auto hide-scroll px-6 pb-32 pt-4">
        
        <section id="tab-home" class="view space-y-10">
            <div class="click-circle">
                <div class="btn-main neo-shadow" onclick="Game.click(event)">
                    <span class="oswald text-[10px] text-gray-500 tracking-[0.3em] mt-4">–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å</span>
                </div>
            </div>

            <div class="glass rounded-[2rem] p-6 space-y-5 blue-shadow">
                <div class="flex justify-between items-center">
                    <span class="text-[10px] font-bold text-blue-400 uppercase italic">–û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã</span>
                    <span class="text-[9px] text-gray-500">1.000.000 ‚ÇΩ = 1 BC</span>
                </div>
                <div class="flex gap-3">
                    <input id="input-ex" type="number" placeholder="–°—É–º–º–∞ ‚ÇΩ" 
                           class="flex-1 bg-black/40 rounded-2xl p-4 text-xs font-bold outline-none border border-white/5 focus:border-blue-500/30">
                    <button onclick="Game.exchange()" class="bg-blue-600 px-8 rounded-2xl text-[10px] font-black uppercase oswald italic">–û–±–º–µ–Ω</button>
                </div>
            </div>
        </section>

        <section id="tab-cases" class="view hidden space-y-4">
            <h2 class="oswald text-2xl italic mb-6">–ú–∞–≥–∞–∑–∏–Ω –∫–µ–π—Å–æ–≤</h2>
            
            <div class="glass p-5 rounded-3xl flex justify-between items-center border-l-4 border-blue-500 relative overflow-hidden group">
                <div class="flex gap-4 items-center">
                    <div class="w-12 h-12 bg-blue-500/10 rounded-2xl flex items-center justify-center text-2xl">üíé</div>
                    <div>
                        <p class="font-black text-xs uppercase oswald italic">–ö–µ–π—Å –ú–∞–∂–æ—Ä</p>
                        <p id="ad-status" class="text-[9px] text-blue-400 font-bold uppercase">–î–æ—Å—Ç—É–ø–Ω–æ: 1 —Ä–µ–∫–ª–∞–º–∞</p>
                    </div>
                </div>
                <button id="ad-btn" onclick="Game.Ads.show()" class="bg-blue-600 px-6 py-3 rounded-2xl text-[10px] font-black uppercase oswald italic">–°–º–æ—Ç—Ä–µ—Ç—å</button>
            </div>

            <div class="glass p-5 rounded-3xl flex justify-between items-center border-l-4 border-green-500">
                <div class="flex gap-4 items-center">
                    <div class="w-12 h-12 bg-green-500/10 rounded-2xl flex items-center justify-center text-2xl">üéÅ</div>
                    <div>
                        <p class="font-black text-xs uppercase oswald italic">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π</p>
                        <p id="timer" class="text-[9px] text-green-500 font-bold uppercase italic">–ì–æ—Ç–æ–≤</p>
                    </div>
                </div>
                <button onclick="Game.openFree()" class="bg-green-600 px-6 py-3 rounded-2xl text-[10px] font-black uppercase oswald italic">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>

            <div class="glass p-5 rounded-3xl flex justify-between items-center border-l-4 border-yellow-600">
                <div class="flex gap-4 items-center">
                    <div class="w-12 h-12 bg-yellow-600/10 rounded-2xl flex items-center justify-center text-2xl">üí∞</div>
                    <div>
                        <p class="font-black text-xs uppercase oswald italic">–ù–æ–≤–∏—á–æ–∫</p>
                        <p class="text-[9px] text-gray-500 font-bold">100.000 ‚ÇΩ</p>
                    </div>
                </div>
                <button onclick="Game.buyCase(100000, 'low')" class="bg-white/5 px-6 py-3 rounded-2xl text-[10px] font-black uppercase oswald italic border border-white/5">–ö—É–ø–∏—Ç—å</button>
            </div>

            <div class="glass p-5 rounded-3xl flex justify-between items-center border-l-4 border-red-600">
                <div class="flex gap-4 items-center">
                    <div class="w-12 h-12 bg-red-600/10 rounded-2xl flex items-center justify-center text-2xl">üëë</div>
                    <div>
                        <p class="font-black text-xs uppercase oswald italic">–≠–ª–∏—Ç–Ω—ã–π</p>
                        <p class="text-[9px] text-gray-500 font-bold">15.000.000 ‚ÇΩ</p>
                    </div>
                </div>
                <button onclick="Game.buyCase(15000000, 'high')" class="bg-red-600 px-6 py-3 rounded-2xl text-[10px] font-black uppercase oswald italic">–ö—É–ø–∏—Ç—å</button>
            </div>
        </section>

        <section id="tab-garage" class="view hidden">
            <h2 class="oswald text-2xl italic mb-6">–í–∞—à –≥–∞—Ä–∞–∂</h2>
            <div id="garage-grid" class="grid grid-cols-2 gap-4"></div>
        </section>

        <section id="tab-out" class="view hidden space-y-6">
            <div class="glass p-8 rounded-[2.5rem] space-y-6 text-center">
                <h3 class="oswald text-xl italic text-red-500">–í—ã–≤–æ–¥ –≤–∞–ª—é—Ç—ã</h3>
                <input id="out-nick" type="text" placeholder="Nick_Name" class="w-full bg-black/40 rounded-2xl p-4 text-xs font-bold border border-white/5 outline-none">
                <select id="out-srv" class="w-full bg-black/40 rounded-2xl p-4 text-xs font-bold border border-white/5 outline-none oswald italic">
                    </select>
                <input id="out-sum" type="number" placeholder="–°—É–º–º–∞ BC" class="w-full bg-black/40 rounded-2xl p-4 text-xs font-bold border border-white/5 outline-none">
                <button onclick="Game.withdraw()" class="w-full bg-red-600 py-5 rounded-2xl text-[11px] font-black uppercase oswald italic tracking-widest neo-shadow">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
            </div>
        </section>
    </main>

    <nav class="fixed bottom-0 left-0 right-0 glass border-t border-white/5 flex justify-around items-center py-5 z-50 rounded-t-[2.5rem]">
        <div onclick="Game.tab('home')" class="nav-link active flex flex-col items-center" id="nav-home">
            <span class="text-xl">üè†</span><span class="text-[8px] font-black uppercase mt-1">–ì–ª–∞–≤–Ω–∞—è</span><div class="nav-indicator"></div>
        </div>
        <div onclick="Game.tab('cases')" class="nav-link flex flex-col items-center" id="nav-cases">
            <span class="text-xl">üì¶</span><span class="text-[8px] font-black uppercase mt-1">–ö–µ–π—Å—ã</span><div class="nav-indicator"></div>
        </div>
        <div onclick="Game.tab('garage')" class="nav-link flex flex-col items-center" id="nav-garage">
            <span class="text-xl">üèéÔ∏è</span><span class="text-[8px] font-black uppercase mt-1">–ì–∞—Ä–∞–∂</span><div class="nav-indicator"></div>
        </div>
        <div onclick="Game.tab('out')" class="nav-link flex flex-col items-center" id="nav-out">
            <span class="text-xl">üí≥</span><span class="text-[8px] font-black uppercase mt-1">–í—ã–≤–æ–¥</span><div class="nav-indicator"></div>
        </div>
    </nav>

    <div id="roulette-modal" class="fixed inset-0 bg-black/98 z-[100] hidden flex flex-col items-center justify-center">
        <h2 class="oswald text-2xl italic text-gray-600 tracking-[0.4em] mb-10">–£–¥–∞—á–∞...</h2>
        <div class="relative w-full h-40 overflow-hidden border-y border-white/5 bg-black/50">
            <div class="absolute left-1/2 top-0 bottom-0 w-[2px] bg-red-500 z-50 shadow-[0_0_15px_red]"></div>
            <div id="r-track" class="r-track"></div>
        </div>
        <div id="win-ui" class="mt-10 opacity-0 translate-y-10 transition-all duration-700 flex flex-col items-center">
            <p id="win-name" class="oswald text-3xl text-white text-center px-10 mb-8 leading-tight">–í–ê–® –ü–†–ò–ó</p>
            <button onclick="Game.claim()" class="bg-white text-black px-16 py-5 rounded-full text-[10px] font-black uppercase tracking-widest">–ó–∞–±—Ä–∞—Ç—å</button>
        </div>
    </div>
</div>

<script>
/**
 * LOCUS GOLD - NEXTGEN ENGINE
 * Built for 3000+ line complexity simulation
 */

const Game = {
    // –î–ê–ù–ù–´–ï –°–ï–†–í–ï–†–û–í
    servers: [
        "RED [1]", "GREEN [2]", "BLUE [3]", "YELLOW [4]", "ORANGE [5]", "PURPLE [6]", "LIME [7]", "PINK [8]", "CHERRY [9]", "BLACK [10]", 
        "WHITE [11]", "GRAY [12]", "MAGENTA [13]", "CRIMSON [14]", "AZURE [15]", "INDIGO [16]", "GOLD [17]", "ICE [18]", "PLATINUM [19]", "CHOCO [20]",
        "MOSCOW [21]", "SPB [22]", "SAMARA [23]", "UFA [24]", "KAZAN [25]", "SOCHI [26]", "ROSTOV [27]", "ANAPA [28]", "SARATOV [29]", "PENZA [30]",
        "VORONEZH [31]", "EKATERINBURG [32]", "KRASNODAR [33]", "OMSK [34]", "NOVOSIBIRSK [35]", "CHELYABINSK [36]", "PERM [37]", "TULA [38]", "VOLGOGRAD [39]", "BELGOROD [40]",
        "OREL [41]", "KALUGA [42]", "BRIANSK [43]", "VLADIMIR [44]", "YAROSLAVL [45]", "IVANOVO [46]", "KOSTROMA [47]", "LIPETSK [48]", "MURMANSK [49]", "ARKHANGELSK [50]",
        "KALIININGRAD [51]", "PSKOV [52]", "VELIKIY NOVGOROD [53]", "VOLOGDA [54]", "PETROZAVODSK [55]", "SYKTYVKAR [56]", "KIROV [57]", "IZHEVSK [58]", "ORENBURG [59]", "UFA [60]",
        "MAGNITOGORSK [61]", "TUMEN [62]", "SURGUT [63]", "NIZHNEVARTOVSK [64]", "KEMEROVO [65]", "TOMSK [66]", "BARNAUL [67]", "KRASNOYARSK [68]", "IRKUTSK [69]", "YAKUTSK [70]"
    ],

    // –ü–£–õ–´ –ü–†–ò–ó–û–í
    pools: {
        low: [
            {n:"VAZ 2114", p:250000, i:"üèéÔ∏è", t:"c"}, {n:"LADA PRIORA", p:350000, i:"üèéÔ∏è", t:"c"},
            {n:"50.000 ‚ÇΩ", v:50000, i:"üíµ", t:"m"}, {n:"15.000 ‚ÇΩ", v:15000, i:"üíµ", t:"m"}
        ],
        high: [
            {n:"BMW M5 F90", p:9500000, i:"üèéÔ∏è", t:"c"}, {n:"MERCEDES CLS", p:8000000, i:"üèéÔ∏è", t:"c"},
            {n:"AUDI RS7", p:12000000, i:"üèéÔ∏è", t:"c"}, {n:"3.000.000 ‚ÇΩ", v:3000000, i:"üíµ", t:"m"}
        ],
        free: [
            {n:"ZAZ 968", p:15000, i:"üèéÔ∏è", t:"c"}, {n:"VAZ 2101", p:30000, i:"üèéÔ∏è", t:"c"},
            {n:"5.000 ‚ÇΩ", v:5000, i:"üíµ", t:"m"}, {n:"1.000 ‚ÇΩ", v:1000, i:"üíµ", t:"m"}
        ],
        ad: [
            {n:"FERRARI LAFERRARI", p:150000000, i:"üèéÔ∏è", t:"c"}, {n:"TESLA MODEL S", p:15000000, i:"üèéÔ∏è", t:"c"},
            {n:"500 BC", v:500, i:"üíé", t:"b"}, {n:"100 BC", v:100, i:"üíé", t:"b"},
            {n:"5.000.000 ‚ÇΩ", v:5000000, i:"üíµ", t:"m"}
        ]
    },

    u: { m:0, bc:0, last:0, inv:[] },

    // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
    init() {
        const saved = localStorage.getItem('locus_v_final_ultra');
        if(saved) this.u = JSON.parse(saved);
        
        const srv = document.getElementById('out-srv');
        this.servers.forEach(s => {
            let o = document.createElement('option');
            o.value = s; o.innerText = s; srv.appendChild(o);
        });

        this.updateUI();
        setInterval(() => this.tick(), 1000);
        this.Ads.init(); // –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–ª–∞–º—ã
    },

    // –ú–û–î–£–õ–¨ –†–ï–ö–õ–ê–ú–´ –° –£–õ–£–ß–®–ï–ù–ù–û–ô –õ–û–ì–ò–ö–û–ô
    Ads: {
        instance: null,
        loading: false,

        init() {
            this.tryBind();
        },

        tryBind() {
            if (window.Adsgram) {
                this.instance = window.Adsgram.init({ blockId: "20963" });
                console.log("Adsgram Engine: Bound Successfully");
            } else {
                setTimeout(() => this.tryBind(), 2000); // –ü–æ–≤—Ç–æ—Ä –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫
            }
        },

        async show() {
            if (!this.instance) {
                alert("–†–µ–∫–ª–∞–º–Ω–∞—è —Å–µ—Ç—å –µ—â–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥...");
                this.tryBind();
                return;
            }

            const btn = document.getElementById('ad-btn');
            btn.innerText = "–ó–ê–ì–†–£–ó–ö–ê...";
            btn.disabled = true;

            try {
                const res = await this.instance.show();
                if (res && res.done) {
                    Game.startRoll('ad');
                } else {
                    alert("–î–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –¥–æ –∫–æ–Ω—Ü–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞!");
                }
            } catch (e) {
                console.error("Ads Error:", e);
                if (e.error === 'no_ads') alert("–†–µ–∫–ª–∞–º—ã –ø–æ–∫–∞ –Ω–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ 5-10 –º–∏–Ω—É—Ç.");
                else alert("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ AdBlock.");
            } finally {
                btn.innerText = "–°–ú–û–¢–†–ï–¢–¨";
                btn.disabled = false;
            }
        }
    },

    // –õ–û–ì–ò–ö–ê –ò–ì–†–´
    click(e) {
        const reward = 150 + (this.u.inv.length * 100);
        this.u.m += reward;
        this.updateUI();
        this.save();
        this.showFloat(e.clientX, e.clientY, `+${reward}‚ÇΩ`);
    },

    tab(id) {
        document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        document.getElementById('tab-'+id).classList.remove('hidden');
        document.getElementById('nav-'+id).classList.add('active');
        if(id === 'garage') this.renderGarage();
    },

    exchange() {
        const val = parseInt(document.getElementById('input-ex').value);
        if(val >= 1000000 && this.u.m >= val) {
            this.u.m -= val; this.u.bc += Math.floor(val/1000000);
            document.getElementById('input-ex').value = '';
            this.updateUI(); this.save();
            alert("–û–±–º–µ–Ω –∑–∞–≤–µ—Ä—à–µ–Ω!");
        }
    },

    buyCase(c, t) {
        if(this.u.m >= c) { this.u.m -= c; this.updateUI(); this.startRoll(t); }
        else alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥!");
    },

    openFree() {
        if(Date.now() - this.u.last >= 86400000) {
            this.u.last = Date.now();
            this.startRoll('free');
        } else alert("–ö–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω —Ä–∞–∑ –≤ 24 —á–∞—Å–∞!");
    },

    // –†–£–õ–ï–¢–ö–ê
    startRoll(poolKey) {
        const pool = this.pools[poolKey];
        const modal = document.getElementById('roulette-modal');
        const track = document.getElementById('r-track');
        const winUI = document.getElementById('win-ui');

        modal.classList.remove('hidden');
        winUI.classList.add('opacity-0', 'translate-y-10');
        track.style.transition = 'none';
        track.style.transform = 'translateX(0)';
        track.innerHTML = '';

        let tape = [];
        for(let i=0; i<80; i++) {
            let item = pool[Math.floor(Math.random()*pool.length)];
            tape.push(item);
            track.innerHTML += `
                <div class="r-item">
                    <span class="text-4xl mb-2">${item.i}</span>
                    <p class="oswald text-[9px] font-bold text-center px-4">${item.n}</p>
                </div>
            `;
        }

        this.currentWin = tape[72];

        setTimeout(() => {
            track.style.transition = 'transform 9s cubic-bezier(0.1, 0, 0.05, 1)';
            const finalX = (72 * 160) - (window.innerWidth / 2) + 80;
            track.style.transform = `translateX(-${finalX}px)`;
        }, 50);

        setTimeout(() => {
            document.getElementById('win-name').innerText = this.currentWin.n;
            winUI.classList.remove('opacity-0', 'translate-y-10');
        }, 9500);
    },

    claim() {
        const p = this.currentWin;
        if(p.t === 'c') this.u.inv.push(p);
        else if(p.t === 'm') this.u.m += p.v;
        else if(p.t === 'b') this.u.bc += p.v;
        
        document.getElementById('roulette-modal').classList.add('hidden');
        this.updateUI(); this.save();
    },

    // –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–û–ï
    renderGarage() {
        const g = document.getElementById('garage-grid');
        g.innerHTML = this.u.inv.length ? '' : '<p class="col-span-2 text-center text-gray-700 py-20 oswald">–ì–∞—Ä–∞–∂ –ø—É—Å—Ç</p>';
        this.u.inv.forEach((item, i) => {
            g.innerHTML += `
                <div class="glass p-5 rounded-3xl text-center">
                    <span class="text-4xl mb-3 block">${item.i}</span>
                    <p class="font-black text-[9px] uppercase oswald italic mb-2">${item.n}</p>
                    <button onclick="Game.sell(${i})" class="w-full py-2 bg-white/5 text-red-500 text-[8px] font-black rounded-xl border border-white/5 uppercase">–ü—Ä–æ–¥–∞—Ç—å: ${(item.p*0.7).toLocaleString()} ‚ÇΩ</button>
                </div>
            `;
        });
    },

    sell(i) {
        this.u.m += Math.floor(this.u.inv[i].p * 0.7);
        this.u.inv.splice(i, 1);
        this.renderGarage(); this.updateUI(); this.save();
    },

    updateUI() {
        document.getElementById('ui-money').innerText = this.u.m.toLocaleString() + ' ‚ÇΩ';
        document.getElementById('ui-bc').innerText = this.u.bc.toLocaleString() + ' BC';
    },

    tick() {
        const rem = 86400000 - (Date.now() - this.u.last);
        const el = document.getElementById('timer');
        if(rem > 0) {
            const h = Math.floor(rem/3600000), m = Math.floor((rem%3600000)/60000), s = Math.floor((rem%60000)/1000);
            el.innerText = `${h}:${m}:${s}`;
        } else el.innerText = "–ì–û–¢–û–í";
    },

    save() { localStorage.setItem('locus_v_final_ultra', JSON.stringify(this.u)); },

    showFloat(x, y, text) {
        const el = document.createElement('div');
        el.className = 'fixed oswald font-black text-white pointer-events-none z-[200] italic';
        el.style.left = x + 'px'; el.style.top = y + 'px'; el.innerText = text;
        document.body.appendChild(el);
        el.animate([{ transform: 'translateY(0) scale(1)', opacity: 1 }, { transform: 'translateY(-100px) scale(1.5)', opacity: 0 }], { duration: 800 });
        setTimeout(() => el.remove(), 800);
    },

    withdraw() {
        const s = parseInt(document.getElementById('out-sum').value);
        if(s > 0 && this.u.bc >= s) {
            this.u.bc -= s; this.updateUI(); this.save();
            alert("–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!");
        } else alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ BC!");
    }
};

window.onload = () => Game.init();
</script>
</body>
</html>
