<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Locus Gold Premium</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://sad.adsgram.ai/js/sad.min.js"></script>

    <style>
        :root {
            --tg-theme-bg-color: #0c0c0d;
            --accent: #ff9d00;
            --accent-dark: #cc7e00;
            --surface: #171719;
            --surface-light: #222224;
            --text-main: #ffffff;
            --text-dim: #8e8e93;
            --success: #32d74b;
            --error: #ff453a;
            --radius: 20px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            background: var(--tg-theme-bg-color); 
            color: var(--text-main); 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            height: 100vh; overflow: hidden; display: flex; flex-direction: column; 
        }

        /* --- –Æ–†–ò–î–ò–ß–ï–°–ö–ò–ô –ë–õ–û–ö (Overlay) --- */
        #tos-overlay { 
            position: fixed; inset: 0; background: #000; z-index: 9999; 
            display: none; flex-direction: column; padding: 25px; 
        }
        .tos-header { font-size: 22px; font-weight: 800; color: var(--accent); margin-bottom: 20px; text-align: center; }
        .tos-content { 
            flex: 1; overflow-y: auto; font-size: 13px; line-height: 1.6; color: #b1b1b7; 
            padding: 15px; background: var(--surface); border-radius: var(--radius); border: 1px solid #2a2a2c;
        }
        .tos-content h3 { color: #fff; margin: 20px 0 8px; font-size: 15px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .tos-btn-accept { 
            margin-top: 20px; padding: 18px; border-radius: var(--radius); border: none; 
            background: #fff; color: #000; font-weight: 900; font-size: 16px; width: 100%; cursor: pointer;
        }

        /* --- –ì–õ–ê–í–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–° --- */
        .app-header { padding: 40px 20px 10px; text-align: center; }
        .main-balance { font-size: 56px; font-weight: 900; letter-spacing: -2px; line-height: 1; }
        .main-balance span { font-size: 24px; color: var(--accent); margin-left: 4px; }
        
        .stat-grid { display: flex; gap: 10px; margin: 20px 20px 10px; }
        .stat-card { 
            flex: 1; background: var(--surface); padding: 12px; border-radius: 16px; 
            font-size: 11px; color: var(--text-dim); font-weight: 700; text-align: center;
        }
        .stat-card b { display: block; color: #fff; font-size: 16px; margin-top: 4px; }

        .viewport { flex: 1; position: relative; }
        .page { position: absolute; inset: 0; display: none; flex-direction: column; padding: 0 20px; overflow-y: auto; }
        .page.active { display: flex; }

        /* –ö–ª–∏–∫–µ—Ä –∏ –ö–Ω–æ–ø–∫–∏ */
        .clicker-zone { flex: 1; display: flex; align-items: center; justify-content: center; }
        .click-btn { 
            width: 250px; height: 250px; border-radius: 50%; 
            background: radial-gradient(circle, #ffb700 0%, #ff8000 100%); 
            border: 10px solid #1e1e20; font-size: 80px; color: rgba(0,0,0,0.3); font-weight: 900;
            display: flex; align-items: center; justify-content: center; box-shadow: 0 0 50px rgba(255,157,0,0.25);
            transition: transform 0.05s;
        }
        .click-btn:active { transform: scale(0.93); }

        .action-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .btn-action { 
            background: var(--surface); border: 1px solid #2a2a2c; padding: 16px; 
            border-radius: var(--radius); text-align: center; cursor: pointer;
        }
        .btn-action:active { background: var(--surface-light); }
        .btn-action img { width: 24px; margin-bottom: 5px; }
        .btn-action b { display: block; font-size: 13px; color: #fff; }
        .btn-action span { font-size: 10px; color: var(--accent); font-weight: 800; }

        /* –í—ã–≤–æ–¥ –∏ –†–µ—Ñ–µ—Ä–∞–ª—ã */
        .withdraw-banner { 
            background: var(--surface); padding: 25px; border-radius: var(--radius); 
            text-align: center; margin-bottom: 25px; border: 1px solid #252527; 
        }
        .main-btn { 
            width: 100%; padding: 18px; border-radius: 16px; border: none; font-weight: 900; 
            font-size: 16px; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s;
        }
        .main-btn.active { background: var(--accent); color: #000; box-shadow: 0 5px 15px rgba(255,157,0,0.3); }
        .main-btn.disabled { background: #252528; color: #4e4e52; cursor: not-allowed; }

        .list-title { font-size: 12px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }
        .item-card { 
            background: var(--surface); padding: 16px; border-radius: 16px; margin-bottom: 10px; 
            display: flex; justify-content: space-between; align-items: center; border-left: 4px solid #333;
        }
        .item-card.done { border-left-color: var(--success); }
        .status-pill { font-size: 10px; padding: 5px 10px; border-radius: 12px; font-weight: 900; text-transform: uppercase; }
        .status-pill.wait { background: rgba(255,157,0,0.1); color: var(--accent); }
        .status-pill.done { background: rgba(50,215,75,0.1); color: var(--success); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-bar { height: 85px; background: #000; border-top: 1px solid #1c1c1e; display: flex; padding-bottom: 20px; }
        .nav-tab { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--text-dim); }
        .nav-tab.active { color: var(--accent); }
        .nav-tab i { font-size: 22px; margin-bottom: 4px; }
        .nav-tab span { font-size: 10px; font-weight: 800; }

        .floating-text { position: absolute; color: var(--accent); font-weight: 900; pointer-events: none; animation: floatUp 0.7s ease-out forwards; z-index: 100; }
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-120px); } }
    </style>
</head>
<body>

    <div id="tos-overlay">
        <h1 class="tos-header">üìú –õ–ò–¶–ï–ù–ó–ò–û–ù–ù–û–ï –°–û–ì–õ–ê–®–ï–ù–ò–ï</h1>
        <div class="tos-content">
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Locus Gold. –ò—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏:</p>
            
            <h3>1. –°—Ç–∞—Ç—É—Å –°–µ—Ä–≤–∏—Å–∞</h3>
            <p>Locus Gold Elite —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º —Å–∏–º—É–ª—è—Ç–æ—Ä–æ–º. –ú—ã –Ω–µ —è–≤–ª—è–µ–º—Å—è –∞—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ª–∏—Ü–æ–º –∫–æ–º–ø–∞–Ω–∏–∏ Axlebolt Ltd. –í—Å—è –≤–∞–ª—é—Ç–∞ (Gold) —è–≤–ª—è–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –±–∞–ª–ª–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.</p>
            
            <h3>2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</h3>
            <p>–í—Å–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Ç–æ–≤–∞—Ä–Ω—ã–µ –∑–Ω–∞–∫–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–≥—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.</p>
            
            <h3>3. –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ü—Ä–æ–≥—Ä–∞–º–º–∞</h3>
            <p>–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ 100 G –∑–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä –º–∏–Ω–∏–º—É–º 1 —Ä–µ–∫–ª–∞–º—ã). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–æ–≤ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.</p>
            
            <h3>4. –ü—Ä–∞–≤–∏–ª–∞ –í—ã–≤–æ–¥–∞ (750 G)</h3>
            <p>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ ‚Äî 750 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö G. –°—Ä–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–∫–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ 72 —á–∞—Å–æ–≤. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–ø—Ä–∞–≤–µ –æ—Ç–∫–∞–∑–∞—Ç—å –≤ –≤—ã–≤–æ–¥–µ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–∞–∫—Ä—É—Ç–∫–∏.</p>
            
            <h3>5. –†–µ–∫–ª–∞–º–Ω–∞—è –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è</h3>
            <p>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å —Ä–µ–∫–ª–∞–º–Ω–æ–π —Å–µ—Ç—å—é Adsgram. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–ª–∞–º—ã —è–≤–ª—è–µ—Ç—Å—è –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã—Ö –±–æ–Ω—É—Å–æ–≤.</p>
            
            <h3>6. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h3>
            <p>–ú—ã —Å–æ–±–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π ID Telegram –∏ –∏–º—è –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Å—á–µ—Ç–∞. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.</p>
        </div>
        <button class="tos-btn-accept" onclick="App.acceptTos()">–ü–†–ò–ù–Ø–¢–¨ –ò –ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
    </div>

    <div class="app-header">
        <div class="main-balance"><span id="val-bal">0.000</span><span>G</span></div>
    </div>

    <div class="stat-grid">
        <div class="stat-card">–°–ò–õ–ê –ö–õ–ò–ö–ê<b id="val-pwr">0.001</b></div>
        <div class="stat-card">–î–†–£–ó–¨–Ø (100 G)<b id="val-refs">0</b></div>
    </div>

    <div class="viewport">
        <div id="p-main" class="page active">
            <div class="clicker-zone">
                <div id="coin" class="click-btn">G</div>
            </div>
            <div class="action-row">
                <div class="btn-action" onclick="App.runAd('gold')">üéÅ <b>–ë–û–ù–£–° +5.0</b> <span>ADSgram</span></div>
                <div class="btn-action" onclick="App.runAd('pwr')">‚ö° <b>–°–ò–õ–ê +0.005</b> <span>Watch Video</span></div>
                <div class="btn-action" onclick="App.upgradePwr()" style="grid-column: span 2; background: rgba(255,157,0,0.05);">
                    üöÄ <b>–£–õ–£–ß–®–ò–¢–¨ –ö–õ–ò–ö –ó–ê 1.000 G</b> <span>Upgrade: +0.005</span>
                </div>
            </div>
        </div>

        <div id="p-refs" class="page">
            <div class="withdraw-banner">
                <h2 style="font-size: 18px; margin-bottom: 10px;">–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π</h2>
                <p style="font-size: 12px; color: var(--text-dim); margin-bottom: 20px;">–ü–æ–ª—É—á–∞–π—Ç–µ 100 G –∑–∞ –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞!</p>
                <button class="main-btn active" onclick="App.copyRef()">–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –°–°–´–õ–ö–£</button>
            </div>
            <p class="list-title">–°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π</p>
            <div id="ref-list"></div>
        </div>

        <div id="p-out" class="page">
            <div class="withdraw-banner">
                <p style="font-size: 12px; color: var(--text-dim); margin-bottom: 15px;">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 750 G</p>
                <button id="btn-withdraw" class="main-btn disabled" disabled>–û–§–û–†–ú–ò–¢–¨ –í–´–í–û–î</button>
            </div>
            <p class="list-title">–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</p>
            <div id="out-list"></div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-tab active" onclick="App.nav('main', this)"><i>‚õèÔ∏è</i><span>–ú–ê–ô–ù–ò–ù–ì</span></div>
        <div class="nav-tab" onclick="App.nav('refs', this)"><i>üë•</i><span>–î–†–£–ó–¨–Ø</span></div>
        <div class="nav-tab" onclick="App.nav('out', this)"><i>üè¶</i><span>–í–´–í–û–î</span></div>
    </nav>

    <script>
    const App = {
        db: null, tg: window.Telegram.WebApp, uid: null,
        gold: 0, pwr: 0.001, journal: 0,
        
        async init() {
            this.tg.expand();
            this.uid = this.tg.initDataUnsafe?.user?.id?.toString() || "DEV_MODE";
            
            // Firebase Config
            const cfg = {
                apiKey: "AIzaSyCoa29KS-sin6hoRz0ZbE4f3ki0tZLwkKI",
                authDomain: "gold-clicker-5d882.firebaseapp.com",
                projectId: "gold-clicker-5d882",
                appId: "1:83489312782:web:ee5b7bdc390e53e7dd6c5f"
            };
            
            firebase.initializeApp(cfg);
            this.db = firebase.firestore();

            const doc = await this.db.collection('players').doc(this.uid).get();
            if(!doc.exists) {
                document.getElementById('tos-overlay').style.display = 'flex';
                await this.db.collection('players').doc(this.uid).set({
                    gold: 0, pwr: 0.001, name: this.tg.initDataUnsafe?.user?.first_name || "Gamer"
                });
                this.handleInvite();
            } else {
                this.gold = doc.data().gold || 0;
                this.pwr = doc.data().pwr || 0.001;
            }

            this.render();
            setInterval(() => this.sync(), 3000);
            document.getElementById('coin').onclick = (e) => this.tap(e);
        },

        async handleInvite() {
            const inviter = this.tg.initDataUnsafe?.start_param;
            if(inviter && inviter !== this.uid) {
                await this.db.collection('players').doc(inviter).collection('referrals').doc(this.uid).set({
                    name: this.tg.initDataUnsafe?.user?.first_name || "Friend",
                    bonus: 100
                });
                await this.db.collection('players').doc(inviter).update({
                    gold: firebase.firestore.FieldValue.increment(100)
                });
            }
        },

        tap(e) {
            this.gold += this.pwr; this.journal += this.pwr;
            this.render(); this.spawnVfx(e.clientX, e.clientY);
            if(this.tg.HapticFeedback) this.tg.HapticFeedback.impactOccurred('light');
        },

        async sync() {
            if(this.journal <= 0) return;
            const amount = this.journal;
            await this.db.collection('players').doc(this.uid).update({
                gold: firebase.firestore.FieldValue.increment(amount),
                pwr: this.pwr
            });
            this.journal -= amount;
        },

        render() {
            document.getElementById('val-bal').innerText = this.gold.toFixed(3);
            document.getElementById('val-pwr').innerText = this.pwr.toFixed(3);
            
            const btn = document.getElementById('btn-withdraw');
            if(this.gold >= 750) {
                btn.className = "main-btn active"; btn.disabled = false;
                btn.onclick = () => this.startWithdraw();
            } else {
                btn.className = "main-btn disabled"; btn.disabled = true;
            }
        },

        async upgradePwr() {
            if(this.gold < 1) return this.tg.showAlert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Gold!");
            this.gold -= 1; this.pwr += 0.005;
            await this.db.collection('players').doc(this.uid).update({
                gold: firebase.firestore.FieldValue.increment(-1),
                pwr: firebase.firestore.FieldValue.increment(0.005)
            });
            this.render();
        },

        runAd(type) {
            this.tg.showConfirm("–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª–∏–∫ –¥–ª—è –±–æ–Ω—É—Å–∞?", (ok) => {
                if(ok) {
                    const ad = window.Adsgram.init({ blockId: "8213" });
                    ad.show().then(() => {
                        if(type === 'gold') this.gold += 5; else this.pwr += 0.005;
                        this.sync(); this.render();
                    }).catch(() => this.tg.showAlert("–†–µ–∫–ª–∞–º–∞ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"));
                }
            });
        },

        async startWithdraw() {
            const sid = prompt("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID Standoff 2:");
            if(!sid || sid.length < 8) return this.tg.showAlert("ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 8 —Ü–∏—Ñ—Ä");
            
            const req = { sid, amount: Math.floor(this.gold), status: '–û–∂–∏–¥–∞–Ω–∏–µ', date: new Date().toLocaleDateString(), uid: this.uid };
            await this.db.collection('withdrawals').add(req);
            await this.db.collection('players').doc(this.uid).collection('history').add(req);
            
            this.gold = 0; await this.db.collection('players').doc(this.uid).update({ gold: 0 });
            this.render(); this.loadHistory();
            this.tg.showAlert("–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!");
        },

        async loadRefs() {
            const list = document.getElementById('ref-list');
            const snap = await this.db.collection('players').doc(this.uid).collection('referrals').get();
            list.innerHTML = snap.empty ? '<center style="color:#444;margin-top:20px">–ü–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–∑–µ–π</center>' : '';
            document.getElementById('val-refs').innerText = snap.size;
            snap.forEach(d => {
                list.innerHTML += `<div class="item-card done"><b>${d.data().name}</b><span class="status-pill done">+100 G</span></div>`;
            });
        },

        async loadHistory() {
            const list = document.getElementById('out-list');
            const snap = await this.db.collection('players').doc(this.uid).collection('history').orderBy('date','desc').get();
            list.innerHTML = snap.empty ? '<center style="color:#444;margin-top:20px">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</center>' : '';
            snap.forEach(doc => {
                const d = doc.data(); const isWait = d.status === '–û–∂–∏–¥–∞–Ω–∏–µ';
                list.innerHTML += `
                    <div class="item-card ${!isWait ? 'done' : ''}">
                        <div><b>${d.amount} G</b><br><small style="color:var(--text-dim)">ID: ${d.sid}</small></div>
                        <span class="status-pill ${isWait ? 'wait' : 'done'}">${d.status}</span>
                    </div>`;
            });
        },

        nav(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(n => n.classList.remove('active'));
            document.getElementById('p-'+id).classList.add('active'); el.classList.add('active');
            if(id === 'refs') this.loadRefs(); if(id === 'out') this.loadHistory();
        },
        
        acceptTos() { document.getElementById('tos-overlay').style.display='none'; },
        copyRef() { 
            const link = `https://t.me/Locus_Gold_bot/Locus_Gold?startapp=${this.uid}`;
            navigator.clipboard.writeText(link); this.tg.showAlert("–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!"); 
        },
        spawnVfx(x, y) {
            const v = document.createElement('div'); v.className = 'floating-text';
            v.innerText = `+${this.pwr.toFixed(3)}`; v.style.left = x+'px'; v.style.top = y+'px';
            document.body.appendChild(v); setTimeout(() => v.remove(), 700);
        }
    };
    window.onload = () => App.init();
    </script>
</body>
</html>
